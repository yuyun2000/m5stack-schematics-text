# Atomic Battery Base 原理图描述

---

## 原理图分析

好的，这是根据您提供的原理图信息生成的 Atomic Battery Base 技术描述。

***

### 1. 概述

Atomic Battery Base 是一款专为 ATOM 系列主控设计的便携式供电底座。其核心设计思想是通过一颗物理开关在两种互斥的工作模式间切换：充电模式和升压输出模式。充电模式下，通过 USB 接口为内置锂电池充电；升压输出模式下，将电池电压升至 5V 为 ATOM 主控供电。电路还包含一个电池电压检测分压网络，供主控 MCU 实时监测电量。

### 2. 主要芯片及其功能

*   **ETA9085E10 (升压芯片)**：该芯片是一款同步升压转换器。其主要功能是接收来自内置 3.7V 锂电池的输入电压，并将其提升至一个稳定调节的 5V 输出。此 5V 电源通过底座的 5P 接口直接供给上层连接的 ATOM 主板。
*   **LGS4056HDA (线性充电管理芯片)**：该芯片负责整个电池的充电管理。它接收来自外部 USB 的 5V 输入，为锂电池提供线性充电。同时，它还具备充电状态指示功能，通过驱动外部的蓝色和绿色 LED 来显示“充电中”和“充电完成”状态，并提供过充保护。

### 3. 供电与充电电路

*   **供电核心**：电路内置一块 3.7V / 200mAh 的锂电池作为主要能源。
*   **升压输出电路**：在升压模式下，电池的正极通过模式切换开关 `SW1` 连接至 ETA9085E10 升压芯片的输入端。ETA9085E10 工作后，在其输出端产生稳定的 5V / 300mA 电源，该电源被输送至 5P 接口的 `5V` 引脚。
*   **充电输入电路**：在充电模式下，外部 USB 5V 电源输入通过模式切换开关 `SW1` 连接至 LGS4056HDA 充电管理芯片的 `V_IN` 端。LGS4056HDA 随之启动，对连接在其 `BAT` 引脚上的锂电池进行充电，充电电流设定为约 223mA。
*   **模式切换机制**：电路的核心控制元件是一个物理拨动开关 `SW1`。此开关用于选择电池的连接路径，确保升压和充电功能互斥。
    *   当开关拨至**升压侧**时，电池与 ETA9085E10 接通，模块作为电源输出。
    *   当开关拨至**充电侧**时，电池与 LGS4056HDA 接通，同时外部 5V 也接入 LGS4056HDA，模块进入充电状态。

### 4. 信号路径与接口

*   **5P 接口**：底座通过一个 5-Pin 接口与 ATOM 主板连接。其中 `5V` 和 `GND` 引脚为电源连接，`5V` 引脚接收来自 ETA9085E10 的升压输出。`G33` (或 ATOMS3 的 `G8`) 引脚用于连接电池电压检测信号。
*   **电池电压检测路径**：电池正极通过一个由 R14 (1MΩ) 和 R6 (1MΩ) 组成的电阻分压网络进行分压。该网络的中点 `BAT_ADC` 将电池电压减半（分压系数为 1/2），然后输出至 5P 接口的相应 ADC 引脚（如 G33）。这使得 ATOM 主控的 MCU 能够安全地读取并计算出实际的电池电压。该检测电路在两种模式下均保持连接。

### 5. 指示灯电路

*   **充电状态指示**：由 LGS4056HDA 芯片直接驱动。
    *   `CHRG` 引脚连接一个蓝色 LED，当芯片处于充电状态时，该引脚变为低电平，点亮蓝色 LED。
    *   `STDBY` 引脚连接一个绿色 LED，当电池充满，充电过程结束时，该引脚变为低电平，点亮绿色 LED。
*   **电量等级指示**：板载 4 颗红色 LED 用于指示电池电量的大致区间。这些 LED 的控制逻辑与 `BAT_ADC` 的检测值相关联，由上层 ATOM 主控的 MCU 根据读取到的 ADC 值进行软件控制。

### 6. 电路连接关系总结

*   **电源路径**：电池是整个电路的中心。通过 `SW1` 开关，其能量流向被二选一地导向 ETA9085E10 (用于放电升压) 或 LGS4056HDA (用于接收充电)。
*   **控制与反馈**：`SW1` 开关是电路工作模式的物理控制器。电池电压通过 R14/R6 分压网络，始终为 ATOM 主控提供一个可读的 `BAT_ADC` 信号，实现了独立于工作模式的电量监测。充电状态的反馈由 LGS4056HDA 芯片自动完成，并通过蓝/绿 LED 进行可视化呈现。

---

## 补充信息

好的，基于上述描述，可以补充以下更深入的电路细节和设计考量，这些通常是实现所述功能所必需的：

### 7. 补充电路细节与设计考量

*   **升压电路的无源元件**：
    *   **电感器 (Inductor)**：ETA9085E10 升压芯片的正常工作需要一个外部电感器。该电感器连接在芯片的电源输入和内部开关节点 (SW pin) 之间，是升压拓扑的核心储能元件。在开关周期内，电感器通过存储和释放磁场能量，将输入的低电压转换为输出的高电压。
    *   **输出滤波电容 (Output Filter Capacitor)**：在 ETA9085E10 的 5V 输出端，必然会配置一个或多个电容。其主要作用是滤除升压过程中产生的电压纹波，并作为瞬时负载变化的能量缓冲，确保向 ATOM 主板提供一个平滑、稳定的 5V 直流电源。
    *   **反馈网络 (Feedback Network)**：为实现精确的 5V 稳压输出，ETA9085E10 的反馈引脚 (FB) 会连接一个电阻分压器。该分压器从 5V 输出端采样电压，将其分压至芯片内部参考电压的水平。芯片通过比较反馈电压与参考电压，动态调整开关占空比，从而实现闭环稳压。

*   **充电电流的设定**：
    *   LGS4056HDA 芯片通常包含一个 `PROG` (Program) 引脚。外部充电电流的大小是通过连接在该引脚与地之间的一个精密电阻来设定的。根据提示词中 223mA 的充电电流，可以推断电路中存在一个特定阻值的编程电阻，其阻值决定了充电速率。这是线性充电管理芯片的标准设计。

*   **输入/输出去耦电容 (Decoupling Capacitors)**：
    *   在 LGS4056HDA 的 `V_IN` (USB 5V 输入) 和 ETA9085E10 的电源输入端，通常会放置陶瓷电容。这些电容用于高频去耦，滤除输入电源线上的噪声，并为芯片提供稳定的本地电源。
    *   在 LGS4056HDA 的 `BAT` 引脚和电池之间，也需要一个电容来保证充电控制环路的稳定性。

*   **LED 驱动电路细节**：
    *   **限流电阻 (Current-Limiting Resistors)**：原理图中的每一个 LED（包括蓝、绿、红）都会串联一个限流电阻。该电阻的作用是根据供电电压和 LED 的正向压降，将流过 LED 的电流限制在一个安全且亮度合适的范围内，防止 LED 因过流而损坏。
    *   **开漏输出驱动 (Open-Drain Driver)**：LGS4056HDA 的 `CHRG` 和 `STDBY` 引脚是开漏输出。这意味着当它们被激活时，内部会形成一个到地的通路（灌电流）。因此，蓝、绿 LED 的驱动电路接法通常是：`电源 -> 限流电阻 -> LED -> LGS4056HDA 引脚`。当引脚为高阻态（不工作）时，LED 熄灭；当引脚拉低时，形成电流回路，LED 点亮。

*   **电池保护机制**：
    *   虽然 LGS4056HDA 提供了过充电保护，但锂电池本身通常还自带一块保护电路板 (PCM)，提供过放电保护、过流保护和短路保护。此外，ETA9085E10 升压芯片自身通常也具备欠压锁定 (UVLO) 功能，当电池电压过低时会自动停止工作，从芯片层面防止电池过放。

---

*该文档由 AI 自动生成，生成时间: 2025-11-17 18:45:42*
