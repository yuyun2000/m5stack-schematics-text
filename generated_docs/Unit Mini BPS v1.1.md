# Unit Mini BPS v1.1 原理图描述

---

## 原理图分析

### Unit Mini BPS v1.1 原理图描述

#### 主要芯片及其功能
该电路的核心组件是 QMP6988 (U2)，一款数字气压与温度传感器。它负责测量环境的大气压力和温度，并通过 I2C 接口输出数字信号。

#### 电路设计思想
电路设计旨在提供一个紧凑、易于使用的气压与温度测量单元。通过 HY2.0-4P (Grove) 接口获取 5V 供电和 I2C 通信信号，利用 LDO 稳压芯片将电源转换为传感器所需的工作电压，实现与主控制器的直接通信。整体设计简洁，无冗余组件。

#### 供电与充电电路
*   **电源输入**：电路通过 HY2.0-4P 接口 (CON1) 的 Pin 3 (5V) 和 Pin 4 (GND) 获取 5V 外部供电。
*   **电压转换**：采用一颗 HT7533 (U1) 低压差线性稳压器 (LDO)。该芯片将输入的 5V 电压稳定地转换为 3.3V。
*   **滤波电容**：在 LDO 的输入端 (VIN) 和输出端 (VOUT) 分别配置了滤波电容。C1 (1uF) 用于输入端滤波，C2 (10uF) 用于输出端滤波，以确保 3.3V 电源的稳定性和纯净度。
*   **电源分配**：稳压后的 3.3V 电源网络 (`3V3`) 为 QMP6988 传感器的 VDD (Pin 4) 和 VDDIO (Pin 5) 引脚供电，并为 I2C 总线的上拉电阻网络提供参考电压。

#### 信号路径
*   **I2C 通信**：电路使用 I2C 总线进行数据通信。
    *   **SCL (串行时钟)**：信号从 CON1 的 Pin 1 (White) 输入，直接连接到 QMP6988 的 Pin 1 (SCL)。
    *   **SDA (串行数据)**：信号从 CON1 的 Pin 2 (Yellow) 输入，直接连接到 QMP6988 的 Pin 2 (SDA)。
*   **I2C 上拉**：SCL 和 SDA 两条信号线通过一个双联电阻网络 RP1 (4.7kΩ x 2) 上拉至 3.3V 电源轨，符合 I2C 协议规范，确保总线在空闲时处于高电平状态。

#### 外设模块
电路通过一个 HY2.0-4P Grove 接口 (CON1) 与外部主控制器连接。引脚定义如下：
*   Pin 1: SCL (时钟线)
*   Pin 2: SDA (数据线)
*   Pin 3: 5V (电源输入)
*   Pin 4: GND (地)

#### 逻辑电路
本电路未包含任何独立的数字逻辑门电路（如与门、或门、非门等）。所有逻辑处理均在 QMP6988 传感器芯片内部完成。

#### 串口与通讯芯片
*   **通讯协议**：采用 I2C 串行通信协议。
*   **通讯实现**：由 QMP6988 芯片自身集成 I2C 通信接口，无需额外的通讯转换芯片。
*   **I2C 地址**：QMP6988 的 SA0 引脚 (Pin 3) 被直接接地，根据其数据手册，这将其 I2C 从设备地址设置为 0x56。

#### 电平转换
电路中没有设置专门的电平转换芯片。I2C 总线通过上拉电阻 RP1 连接到 3.3V 电源轨，因此整个 I2C 通信的逻辑电平为 3.3V。与此单元通信的主控制器需要兼容 3.3V 的 I2C 信号电平。

#### 电源管理
电源管理由 HT7533 (U1) LDO 芯片承担。其主要职责是将来自 Grove 接口的不稳定 5V 电源转换为 QMP6988 传感器所需的高质量、稳定的 3.3V 工作电压。

#### 电路之间的连接关系
1.  HY2.0-4P 接口 (CON1) 作为电源和信号的入口。
2.  输入的 5V 电源送至 HT7533 (U1) 进行降压稳压，产生 3.3V 工作电压。
3.  3.3V 电压为 QMP6988 (U2) 芯片供电，并作为 I2C 总线上拉电阻 RP1 的参考电压。
4.  来自 CON1 的 I2C 信号 (SCL, SDA) 直接连接到 QMP6988 的对应引脚。
5.  QMP6988 传感器通过 I2C 总线与主控制器进行数据交换。
6.  电路中所有组件共享一个公共地 (GND)。

---

## 补充信息

在先前描述的基础上，可以补充以下几点技术细节：

1.  **QMP6988 未使用引脚的处理**
    *   **CSB (Chip Select)**: 此引脚在原理图中悬空（未连接），这是为了将传感器固定在 I2C 通信模式下。在 SPI 通信模式下，该引脚用作片选信号。
    *   **INT (Interrupt)**: 此引脚同样悬空，表明该电路设计未使用传感器的中断功能。这意味着主控制器需要通过轮询（Polling）方式主动向传感器查询数据，而不是等待传感器在数据就绪或事件发生时产生中断信号。这种设计简化了硬件连接，但对主控的软件实现方式有一定要求。
    *   **SDO (Serial Data Out)**: 此引脚为 SPI 模式下的数据输出引脚，在 I2C 模式下不使用，因此在图中保持悬空。

2.  **元件选择考量**
    *   **I2C 上拉电阻**: 电路采用了电阻网络 RP1（Resistor Pack）而非两颗独立的分立电阻。这种选择有助于节省 PCB 布局空间、减少贴片元件数量并简化组装过程，符合“Mini”系列产品紧凑化和集成化的设计理念。

3.  **QMP6988 电源引脚连接**
    *   传感器的模拟核心电源引脚 VDD (Pin 4) 与数字 I/O 接口电源引脚 VDDIO (Pin 5) 被共同连接至由 HT7533 输出的同一个 3.3V 电源网络。这种共用电源轨的设计在许多应用中是标准做法，它简化了电源布线。将 VDD 和 VDDIO 同时供电，确保了芯片内部模拟部分和数字接口部分的正常协同工作。

---

*该文档由 AI 自动生成，生成时间: 2025-11-18 00:08:50*
